{"version":3,"sources":["components/location-details.js","components/forecast-summary.js","components/forecast-summaries.js","components/forecast-details.js","components/search-form.js","services/getForecasts.js","components/App.js","index.js"],"names":["LocationDetails","props","className","city","country","ForecastSummary","date","temperature","description","icon","onSelect","handleShowDetails","data-testid","moment","format","name","iconId","onClick","detailsDate","document","getElementById","parseInt","getAttribute","clickFunction","ForecastSummaries","forecasts","map","forecast","max","onForecastSelect","ForecastDetails","id","value","min","humidity","wind","speed","direction","toUpperCase","SearchForm","useState","searchText","setSearchText","handleSearchText","errorMessage","type","placeholder","onChange","event","target","handleInputChange","onKeyUp","key","getForecastData","a","axios","get","catch","error","response","App","setForecasts","location","setLocation","selectedDate","setSelectedDate","setErrorMessage","showDetails","setShowDetails","isLoading","setIsLoading","getForecasts","res","status","data","useEffect","selectedForecast","find","b","ReactDOM","render"],"mappings":"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","file":"static/js/main.4ee2b1fd.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../styles/location-details.css'\n\nconst LocationDetails = props => {\n  return <h1 className=\"location-details\">\n    {props.city}, {props.country}\n  </h1>\n};\n\nLocationDetails.propTypes = {\n  city: PropTypes.string.isRequired,\n  country: PropTypes.string.isRequired,\n};\n\nexport default LocationDetails;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport WeatherIcon from 'react-icons-weather';\nimport moment from 'moment';\nimport '../styles/forecast-summary.css'\n\nconst ForecastSummary = ({\n  date,\n  temperature,\n  description,\n  icon,\n  onSelect,\n  handleShowDetails,\n}) => {\n  const clickFunction = (date) => {\n    const detailsDate = document.getElementById(\"forecast-details-date\");\n    if (detailsDate && (parseInt(detailsDate.getAttribute(\"value\")) === date)) {\n      handleShowDetails(false);\n    } else {\n      onSelect(date);\n      handleShowDetails(true);\n    }\n  }\n\n  return (\n    <div className=\"forecast-summary\">\n      <span className=\"date\" data-testid=\"date-id\" >\n        {moment(date).format(\"ddd Do MMM\")}\n      </span>\n      <span className=\"temperature\" data-testid=\"temperature-id\">\n        {temperature}&deg;c\n      </span>\n      <span className=\"description\" data-testid=\"description-id\">\n        {description}\n      </span>\n      <span className=\"icon\" data-testid=\"icon-id\">\n        <WeatherIcon name=\"owm\" iconId={icon} data-testid=\"weather-icon-id\"/>\n      </span>\n      <button className=\"details-button\" onClick={() => {clickFunction(date)}}>\n        More Details\n      </button>\n    </div>\n  );\n};\n\nForecastSummary.propTypes = {\n  date: PropTypes.number.isRequired,\n  icon: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  temperature: PropTypes.number.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  handleShowDetails: PropTypes.func.isRequired,\n};\n\nexport default ForecastSummary;","import React from 'react';\nimport PropTypes from 'prop-types'\nimport ForecastSummary from './forecast-summary';\nimport '../styles/forecast-summaries.css';\n\nconst ForecastSummaries = props => (\n  <div className=\"forecast-summaries\">\n    {\n      props.forecasts.map(forecast => (\n        <ForecastSummary\n          key={forecast.date}\n          date={forecast.date}\n          description={forecast.description}\n          icon={forecast.icon}\n          temperature={forecast.temperature.max}\n          onSelect={props.onForecastSelect}\n          handleShowDetails={props.handleShowDetails}\n        />\n      ))\n    }\n\n  </div>\n);\n\nForecastSummaries.propTypes = {\n  forecasts: PropTypes.arrayOf(\n    PropTypes.shape({\n      date: PropTypes.number,\n      icon: PropTypes.string,\n      description: PropTypes.string,\n      temperature: PropTypes.object,\n    }).isRequired\n  ),\n  onForecastSelect: PropTypes.func.isRequired,\n  handleShowDetails: PropTypes.func.isRequired\n};\n\nexport default ForecastSummaries;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport '../styles/forecast-details.css';\n\nconst ForecastDetails = ({ forecast }) => {\n  return <div className=\"forecast-details\">\n    <span className=\"date\" data-testid=\"date-id\" id=\"forecast-details-date\" value={forecast.date}>\n      {moment(forecast.date).format(\"ddd Do MMM\")}\n    </span>\n    <span className=\"min-temperature\" data-testid=\"min-temperature-id\">\n      Min temp: {forecast.temperature.min}&deg;c\n    </span>\n    <span className=\"max-temperature\" data-testid=\"max-temperature-id\">\n      Max temp: {forecast.temperature.max}&deg;c\n    </span>\n    <span className=\"humidity\" data-testid=\"humidity-id\">\n      Humidity: {forecast.humidity}%\n    </span>\n    <span className=\"wind-speed\" data-testid=\"wind-speed-id\">\n      Wind speed: {forecast.wind.speed}mph\n    </span>\n    <span className=\"wind-direction\" data-testid=\"wind-direction-id\">\n      Wind direction: {forecast.wind.direction.toUpperCase()}\n    </span>\n  </div>\n};\n\nForecastDetails.propTypes = ({\n    date: PropTypes.number,\n    temperature: PropTypes.shape({\n      max: PropTypes.number,\n      min: PropTypes.number\n    }),\n    wind: PropTypes.shape({\n      speed: PropTypes.number,\n      direction: PropTypes.string\n    }),\n    humidity: PropTypes.number,\n  }).isRequired;\n\nexport default ForecastDetails;","import {useState, React} from 'react';\nimport '../styles/search-form.css';\n\nconst SearchForm = (props) => {\n  const [searchText, setSearchText] = useState(\"\");\n  const handleInputChange = (event) => {\n    setSearchText(event.target.value);\n  }\n  const {handleSearchText, errorMessage} = props;\n\n  return <div className=\"search-form\">\n    <div id=\"search-input-wrapper\">\n      <input \n        className=\"search-input\"\n        id=\"location-search-input\"\n        type=\"search\"\n        placeholder=\"Find a city\"\n        onChange={(event) => {\n          handleInputChange(event);\n        }}\n        onKeyUp={(event) => {\n          if (event.key === \"Enter\") {\n            handleSearchText(searchText);\n            document.getElementById(\"location-search-input\").value = \"\";\n          }\n        }}\n      >\n      </input>\n\n      <button \n        className=\"search-button\"\n        onClick={() => handleSearchText(searchText)}\n      >\n        <i className=\"fa fa-search\"></i>\n      </button>\n    </div>\n    { errorMessage && (<div className=\"error-message\">\n      {errorMessage}\n    </div>)}\n  </div>\n}\n\nexport default SearchForm;","import axios from 'axios';\n\nconst getForecastData = async (city) => {\n  const response = await axios.get(`https://mcr-codes-weather.herokuapp.com/forecast?city=${city}`)\n    .catch((error) => error);\n  return response;\n};\n\nexport default getForecastData;","import '../styles/App.css';\nimport React, { useEffect, useState } from 'react';\nimport LocationDetails from './location-details';\nimport ForecastSummaries from './forecast-summaries';\nimport ForecastDetails from './forecast-details';\nimport SearchForm from './search-form';\nimport getForecastData from '../services/getForecasts';\n\nconst App = () => {\n  const [forecasts, setForecasts] = useState([]);\n  const [location, setLocation] = useState({ city: 'Edinburgh', country: 'GB' });\n  const [selectedDate, setSelectedDate] = useState(0);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [showDetails, setShowDetails] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const getForecasts = async (city) => {\n    try {\n      const res = await getForecastData(city);\n      if (res.status === 200) {\n        setLocation(res.data.location);\n        setForecasts(res.data.forecasts);\n        setErrorMessage(\"\");\n      } else if (res.response.status === 404) {\n        setErrorMessage(`Sorry, ${city} isn't available. Please choose another city.`)\n      } else {\n        setErrorMessage(\"Oops! Something went wrong. Please try again later.\")\n      }\n      setIsLoading(false);\n    } catch (error) {\n      setErrorMessage(\"Oops! Something went wrong. Please try again later.\");\n      setIsLoading(false);\n    }\n  }\n\n  useEffect( () => {\n    getForecasts(location.city);\n  }, [location.city]);\n\n  const selectedForecast = forecasts.find(forecast => \n    forecast.date === selectedDate);\n  \n  const handleForecastSelect = (date) => {\n    setSelectedDate(date);\n  }\n\n  const handleShowDetails = (b) => {\n    setShowDetails(b);\n  }\n\n  const handleSearchText = (searchText) => {\n    getForecasts(searchText);\n  };\n\n  if (isLoading) {\n    return <div className=\"loading-message-wrapper\"><div className=\"loading-message\">...loading...</div></div>\n  }\n\n  return (\n    <div className=\"forecast\">\n      <div className=\"location-details-wrapper\">\n        <LocationDetails \n          city={location.city} \n          country={location.country}\n        />\n        <SearchForm\n          handleSearchText={handleSearchText}\n          errorMessage={errorMessage}\n        />\n      </div>\n      <ForecastSummaries \n        forecasts={forecasts}\n        onForecastSelect={handleForecastSelect}\n        handleShowDetails={handleShowDetails}\n      />\n      {\n        selectedForecast && showDetails && (<ForecastDetails \n          forecast={selectedForecast}\n          /> )\n      }\n    </div>\n  );\n  \n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}