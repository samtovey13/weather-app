(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{25:function(e,t,a){},44:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a(15),i=a.n(s),r=a(6),d=a.n(r),o=a(16),u=a(3),l=(a(25),a(17)),j=a.n(l),p=(a(44),function(e){return Object(c.jsxs)("h1",{className:"location-details",children:[e.city,", ",e.country]})}),m=a(18),h=a.n(m),b=a(4),f=a.n(b),O=(a(55),function(e){var t=e.date,a=e.temperature,n=e.description,s=e.icon,i=e.onSelect,r=e.handleShowDetails;return Object(c.jsxs)("div",{className:"forecast-summary",children:[Object(c.jsx)("span",{className:"date","data-testid":"date-id",children:f()(t).format("ddd Do MMM")}),Object(c.jsxs)("span",{className:"temperature","data-testid":"temperature-id",children:[a,"\xb0c"]}),Object(c.jsx)("span",{className:"description","data-testid":"description-id",children:n}),Object(c.jsx)("span",{className:"icon","data-testid":"icon-id",children:Object(c.jsx)(h.a,{name:"owm",iconId:s,"data-testid":"weather-icon-id"})}),Object(c.jsx)("button",{className:"details-button",onClick:function(){!function(e){var t=document.getElementById("forecast-details-date");t&&parseInt(t.getAttribute("value"))===e?r(!1):(i(e),r(!0))}(t)},children:"More Details"})]})}),x=(a(56),function(e){return Object(c.jsx)("div",{className:"forecast-summaries",children:e.forecasts.map((function(t){return Object(c.jsx)(O,{date:t.date,description:t.description,icon:t.icon,temperature:t.temperature.max,onSelect:e.onForecastSelect,handleShowDetails:e.handleShowDetails},t.date)}))})}),y=(a(57),function(e){var t=e.forecast;return Object(c.jsxs)("div",{className:"forecast-details",children:[Object(c.jsx)("span",{className:"date","data-testid":"date-id",id:"forecast-details-date",value:t.date,children:f()(t.date).format("ddd Do MMM")}),Object(c.jsxs)("span",{className:"min-temperature","data-testid":"min-temperature-id",children:["Min temp: ",t.temperature.min,"\xb0c"]}),Object(c.jsxs)("span",{className:"max-temperature","data-testid":"max-temperature-id",children:["Max temp: ",t.temperature.max,"\xb0c"]}),Object(c.jsxs)("span",{className:"humidity","data-testid":"humidity-id",children:["Humidity: ",t.humidity,"%"]}),Object(c.jsxs)("span",{className:"wind-speed","data-testid":"wind-speed-id",children:["Wind speed: ",t.wind.speed,"mph"]}),Object(c.jsxs)("span",{className:"wind-direction","data-testid":"wind-direction-id",children:["Wind direction: ",t.wind.direction.toUpperCase()]})]})}),w=(a(58),function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),s=a[0],i=a[1],r=e.handleSearchText,d=e.errorMessage;return Object(c.jsxs)("div",{className:"search-form",children:[Object(c.jsxs)("div",{id:"search-input-wrapper",children:[Object(c.jsx)("input",{className:"search-input",id:"location-search-input",type:"search",placeholder:"Find a city",onChange:function(e){!function(e){i(e.target.value)}(e)},onKeyUp:function(e){"Enter"===e.key&&(r(s),document.getElementById("location-search-input").value="")}}),Object(c.jsx)("button",{className:"search-button",onClick:function(){return r(s)},children:Object(c.jsx)("i",{className:"fa fa-search"})})]}),d&&Object(c.jsx)("div",{className:"error-message",children:d})]})}),v=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)({city:"Edinburgh",country:"GB"}),r=Object(u.a)(i,2),l=r[0],m=r[1],h=Object(n.useState)(0),b=Object(u.a)(h,2),f=b[0],O=b[1],v=Object(n.useState)(""),N=Object(u.a)(v,2),S=N[0],g=N[1],M=Object(n.useState)(!1),k=Object(u.a)(M,2),D=k[0],E=k[1],I=function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://mcr-codes-weather.herokuapp.com/forecast?city=".concat(t)).then((function(e){200===e.status&&(m(e.data.location),s(e.data.forecasts),g(""))})).catch((function(e){404===e.response.status?g("Sorry, ".concat(t," isn't available. Please choose another city.")):500===e.response.status&&g("Oops! Something went wrong. Please try again later.")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){I(l.city)}),[l.city]);var B=a.find((function(e){return e.date===f}));return Object(c.jsxs)("div",{className:"forecast",children:[Object(c.jsxs)("div",{className:"location-details-wrapper",children:[Object(c.jsx)(p,{city:l.city,country:l.country}),Object(c.jsx)(w,{handleSearchText:function(e){I(e)},errorMessage:S})]}),Object(c.jsx)(x,{forecasts:a,onForecastSelect:function(e){O(e)},handleShowDetails:function(e){E(e)}}),B&&D&&Object(c.jsx)(y,{forecast:B})]})};a(59);i.a.render(Object(c.jsx)(v,{}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.ebfb9299.chunk.js.map